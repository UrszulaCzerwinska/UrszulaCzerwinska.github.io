<!DOCTYPE html>
<!--
  Original Design: Spectral by HTML5 UP
    html5up.net | @n33co
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
  Jekyll build mod and further hacks by @arkadianriver, MIT license
-->
<html>
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Introduction to data visualization [FR]</title>
  <meta name="google-site-verification" content="WrNs4kb-PL779UWOhOTLegwiql-42uVzYDfCoJxQRPs" />
  <meta name="description" content="R-plot & ggplot2">
  <!--[if lte IE 8]><script src="/js/ie/html5shiv.js"></script><![endif]-->
  <link rel="canonical" href="http://urszulaczerwinska.github.io/works/TP_R">
  <link rel="shortcut icon" href="/favicon.ico">

  <link rel="stylesheet" href="/css/main.css" />


  
  <!-- Add JSON-LD for Article and Person Schema -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "Introduction to data visualization [FR]"
      "description": "R-plot & ggplot2",
      "datePublished": "2015-03-01T00:00:00+01:00",
      "dateModified": "2015-03-01T00:00:00+01:00",
      "keywords": "Teaching, R, Data viz",
      "author": {
        "@type": "Person",
        "name": "Urszula Czerwinska",
        "description": "Data Scientist & Deep Learning Engineer",
        "url": "https://www.linkedin.com/in/urszula-czerwinska/"
      },
      "image": {
        "@type": "ImageObject",
        "url": "http://urszulaczerwinska.github.io/images/writing.jpeg",
        "width": 1200,
        "height": 630
      },
      "publisher": {
        "@type": "Organization",
        "name": "Urszula Czerwinska",
        "logo": {
          "@type": "ImageObject",
          "url": "http://urszulaczerwinska.github.io/images/logo.png",
          "width": 60,
          "height": 60
        }
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://urszulaczerwinska.github.io/works/TP_R"
      }
    }
</script>


  <!--[if lte IE 8]><link rel="stylesheet" href="/css/ie8.css" /><![endif]-->
  <!--[if lte IE 9]><link rel="stylesheet" href="/css/ie9.css" /><![endif]-->
  <style>
  #main > header {
    background-image: -moz-linear-gradient(top, rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url("/images/computer_prisme.png");
    background-image: -webkit-linear-gradient(top, rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url("/images/computer_prisme.png");
    background-image: -ms-linear-gradient(top, rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url("/images/computer_prisme.png");
    background-image: linear-gradient(top, rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url("/images/computer_prisme.png");
  }
  </style>
  <!--[if lte IE 9]>
  <style>
  #main > header {
    background-image: url("/images/computer_prisme.png");
  }
  </style>
  -->
  <link rel="alternate" type="application/rss+xml" title="Urszula Czerwinska | Data Scientist & Deep Learning Engineer" href="http://urszulaczerwinska.github.io/feed.xml">
</head>

  <!-- Semantic Schema generated by InLinks -->


  
  <body>


    <!-- Page Wrapper -->
    <div id="page-wrapper">

      <!-- Header -->
<header id="header">
  <h1><a href="/index.html"> <span><img src="/favicon.ico" alt="Logo" style="height: 40px; vertical-align: middle; margin-right: 5px;"> Urszula Czerwinska </span></a></h1>
  <nav id="nav">
    <ul>
      <li class="special">
        <a href="#menu" class="menuToggle">  <span>
          Menu
        </span></a>
        <div id="menu">
          <ul>
            <li><a href="/index.html">Home</a></li>
            <li><a href="/about/">About</a></li>
            <li><a href="/works/">Works</a></li>
            <li><a href="/thoughts/">Thoughts</a></li>
            <li><a href="/feed.xml"
                   class="icon fa-feed"> RSS Feed</a></li>
          </ul>
        </div>
      </li>
    </ul>
  </nav>
</header>


      <article id="main">

          <header>
    <h2>Introduction to data visualization [FR]</h2>
    <p>R-plot & ggplot2</p>
  </header>
  <ul class="breadcrumb">
  <li><a href="/index.html">Home</a></li>
  <li>Introduction to data visualization [FR]</li>
</ul>



          <section class="wrapper style5">
    <div class="inner">
      <span id="post-date">1 March 2015</span><hr
        style="margin-top:3px;" />
      <h4>Skills</h4>
  <ul class="techlist">
<li><span class="tech">Teaching</span></li>
<li><span class="tech">R</span></li>
<li><span class="tech">Data viz</span></li>
</ul>

  

      <p><h2>TP Visualisation avec R</h2></p>

<h3>Avant le cours</h3>

<p>Dans une publication scientifique (un article, un livre) repérez une figure que vous trouvez excellente (claire, pertinente, esthétique) et une figure que vous ne trouvez pas bien (pas claire, moche, illisible) et argumentez votre choix.</p>

<hr />

<p>##Installation du RStudio Desktop<br />
Allez sur le <a href="http://www.rstudio.com/products/rstudio/download/">site http://www.rstudio.com/products/rstudio/download/</a> et téléchargez le logiciel.</p>

<p>Si l’installation n’est pas possible, allez dans la section <a href="#sansStudio">sans R studio</a>.</p>

<div><span class="image fit"><img src="/images/pas.png" alt="" /></span></div>

<h2>Premiers pas avec RStudio</h2>
<p><code class="language-plaintext highlighter-rouge">File-&gt; New File-&gt;Script</code></p>

<p>Enregistrer le nouveau script directement en cliquant sur la petite icone de disquette. N’oubliez pas de sauvegarder votre script régulièrement (<em>Ctr+S</em>).</p>

<p>Vous devriez voir votre écran divise en 4 parties principales: <strong>Script</strong>, <strong>Console</strong>, <strong>Environment/History</strong> et <strong>Files/Plots/Packages/Help/Viewer</strong>.</p>

<p>Dans la partie <em>script</em> vous écrivez les commandes et pour les faire executer vous allez dans <code class="language-plaintext highlighter-rouge">Code-&gt;Run</code>.
Ou bien sélectionnez lines que vous voulez executer et tapez <em>Ctr+Enter</em>.</p>

<p>Essayez</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">print</span><span class="p">(</span><span class="s2">"Hello world"</span><span class="p">)</span><span class="w">  </span><span class="c1">#[Ctr+Enter]</span></code></pre></figure>

<p>[1] “Hello world”</p>

<p>Si vous cliquez sur <strong>History</strong> vous devriez voir: 
<code class="language-plaintext highlighter-rouge">print('Hello world')</code></p>

<p>Historique sauvegarde les commandes effectuées dans l’ordre hronologique.</p>

<p>Pour savoir plus sur la fonction <code class="language-plaintext highlighter-rouge">print</code>
tapez:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">?</span><span class="n">print</span></code></pre></figure>

<p>directement dans la console, a votre droite l’onglet <strong>Help</strong> va afficher directement les informations sur <code class="language-plaintext highlighter-rouge">print</code>.</p>

<p>Dans le R, toutes les fonctions sont bien documentées. A la fin des informations sur la fonction vous allez toujours trouver les exemples d’utilisation.</p>

<h2 id="sansStudio">Sans <i>R studio</i> - the brute</h2>

<p>Vous allez executer les scripts R directement dans la ligne de commandes de votre Unix/Mac.<br />
Ouvrez terminal et tapez: <code class="language-plaintext highlighter-rouge">R</code><br />
Cela va ouvrir le logiciel directement dans le terminal.<br />
Vous pouvez taper <code class="language-plaintext highlighter-rouge">print('Hello world')</code> directemment dans la console.<br />
Vous allez voir<br />
<code class="language-plaintext highlighter-rouge">&gt; print('Hello world')</code><br />
<code class="language-plaintext highlighter-rouge">[1] "Hello world"</code></p>

<p>Pour l’aide sur la fonction tapez:<br />
<code class="language-plaintext highlighter-rouge">?print</code><br />
(marche avec toutes les fonctions)</p>

<p>Dans R, toutes les fonctions sont bien documentées. A la fin des informations sur la fonction vous allez toujours trouver les exemples d’utilisation.</p>

<p>Neanmoins, pour garder tous vos commandes dans un document, et effectuer les commandez plus complexes, sauvgarder votre commande dans un fichier et effectuez avec R.</p>

<ol>
  <li>tapez <em>gedit</em> (Unix) ou un autre editeur de texte simple (pas MS Word)</li>
  <li>écrivez <code class="language-plaintext highlighter-rouge">print('Hello world')</code></li>
  <li>sauvgarder le fichier myscript<strong>.R</strong></li>
  <li>dans le terminal, dans le même répertoire où vous avez sauvegardé le fichier tapez <code class="language-plaintext highlighter-rouge">Rscript myscript.R</code></li>
</ol>

<p>Dans la console vous devriez voir<br />
<code class="language-plaintext highlighter-rouge">[1] "Hello world"</code></p>

<div><span class="image fit"><img src="/images/gears.png" alt="" /></span></div>

<p>##Manipulation de données</p>

<h4>Importez les données</h4>

<p>Enregistrez le fichier <a href="http://www.agrocampus-ouest.fr/math/livreR/ozone.txt">ozone.txt http://www.agrocampus-ouest.fr/math/livreR/ozone.txt</a> sur votre ordinateur.</p>

<p>Ensuite importez dans R, pour se faciliter la tâche decidez dans quel repertoire voulez avoir vos fichiers R de cette session</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">setwd</span><span class="p">(</span><span class="s1">'/chemin'</span><span class="p">)</span></code></pre></figure>

<p>par example si le fichier est dans <code class="language-plaintext highlighter-rouge">~/Downloads</code>:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">setwd</span><span class="p">(</span><span class="s1">'/XXXX/xxxx/Downloads'</span><span class="p">)</span></code></pre></figure>

<p>pour connaitre le chemin complet de votre fichier ozone.txt, allez dans le repértoire où il est enregistré et tapez dans le terminal:
<code class="language-plaintext highlighter-rouge">pwd</code></p>

<p>Ensuite dans le script (fenêtre Script dans Rstudio ou votre fichier <em>.R</em>):</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">read.table</span><span class="p">(</span><span class="s2">"ozone.txt"</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="o">=</span><span class="s2">" "</span><span class="p">,</span><span class="w"> </span><span class="n">header</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span></code></pre></figure>

<p>Quoique, vous devriez éviter d’afficher les données dans la console. Dans le cas de grands jeux de données cela peut ralentir énormément le système. Donc mieux c’est:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">mytable</span><span class="o">=</span><span class="n">read.table</span><span class="p">(</span><span class="s2">"ozone.txt"</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="o">=</span><span class="s2">" "</span><span class="p">,</span><span class="w"> </span><span class="n">header</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span></code></pre></figure>

<p>Dès que vous créez une variable, elle apparait dans l’onglet environnement et vous pouvez voir ses caractéristiques (<em>RStudio</em>).</p>

<p><strong>La bonne pratique</strong>: Après avoir importé votre jeu de données, vérifiez toujours s’il est bien importé. Une manière simple, c’est de faire:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">summary</span><span class="p">(</span><span class="n">mytable</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##      maxO3              T9             T12             T15       
##  Min.   : 42.00   Min.   :11.30   Min.   :14.00   Min.   :14.90  
##  1st Qu.: 70.75   1st Qu.:16.20   1st Qu.:18.60   1st Qu.:19.27  
##  Median : 81.50   Median :17.80   Median :20.55   Median :22.05  
##  Mean   : 90.30   Mean   :18.36   Mean   :21.53   Mean   :22.63  
##  3rd Qu.:106.00   3rd Qu.:19.93   3rd Qu.:23.55   3rd Qu.:25.40  
##  Max.   :166.00   Max.   :27.00   Max.   :33.50   Max.   :35.50  
##       Ne9             Ne12            Ne15           Vx9         
##  Min.   :0.000   Min.   :0.000   Min.   :0.00   Min.   :-7.8785  
##  1st Qu.:3.000   1st Qu.:4.000   1st Qu.:3.00   1st Qu.:-3.2765  
##  Median :6.000   Median :5.000   Median :5.00   Median :-0.8660  
##  Mean   :4.929   Mean   :5.018   Mean   :4.83   Mean   :-1.2143  
##  3rd Qu.:7.000   3rd Qu.:7.000   3rd Qu.:7.00   3rd Qu.: 0.6946  
##  Max.   :8.000   Max.   :8.000   Max.   :8.00   Max.   : 5.1962  
##       Vx12             Vx15            maxO3v          vent      pluie   
##  Min.   :-7.878   Min.   :-9.000   Min.   : 42.00   Est  :10   Pluie:43  
##  1st Qu.:-3.565   1st Qu.:-3.939   1st Qu.: 71.00   Nord :31   Sec  :69  
##  Median :-1.879   Median :-1.550   Median : 82.50   Ouest:50             
##  Mean   :-1.611   Mean   :-1.691   Mean   : 90.57   Sud  :21             
##  3rd Qu.: 0.000   3rd Qu.: 0.000   3rd Qu.:106.00                        
##  Max.   : 6.578   Max.   : 5.000   Max.   :166.00</code></pre></figure>

<p>Pour connaître les dimensions du tableau</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="nf">dim</span><span class="p">(</span><span class="n">mytable</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 112  13</code></pre></figure>

<p><strong>A quoi corresponds premier chiffre? deuxième chiffre?</strong></p>

<div><span class="image fit"><img src="/images/org.png" alt="" /></span></div>

<h3>Organisation d’information:</h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">head</span><span class="p">(</span><span class="n">mytable</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##          maxO3   T9  T12  T15 Ne9 Ne12 Ne15     Vx9    Vx12    Vx15 maxO3v
## 20010601    87 15.6 18.5 18.4   4    4    8  0.6946 -1.7101 -0.6946     84
## 20010602    82 17.0 18.4 17.7   5    5    7 -4.3301 -4.0000 -3.0000     87
## 20010603    92 15.3 17.6 19.5   2    5    4  2.9544  1.8794  0.5209     82
## 20010604   114 16.2 19.7 22.5   1    1    0  0.9848  0.3473 -0.1736     92
## 20010605    94 17.4 20.5 20.4   8    8    7 -0.5000 -2.9544 -4.3301    114
## 20010606    80 17.7 19.8 18.3   6    6    7 -5.6382 -5.0000 -6.0000     94
##           vent pluie
## 20010601  Nord   Sec
## 20010602  Nord   Sec
## 20010603   Est   Sec
## 20010604  Nord   Sec
## 20010605 Ouest   Sec
## 20010606 Ouest Pluie</code></pre></figure>

<p>Cela vous donnée une idée comment sont les premières 6 lignes du tableau.</p>

<p>1.<strong>Afficher juste la première colonne du tableau ‘mytable’</strong><br />
2.<strong>Afficher juste la première ligne du tableau ‘mytable’</strong><br />
3.<strong>Afficher les noms de colonnes du tableau ‘mytable’</strong> <br />
4.<strong>Créez un vecteur ‘Group’ de la meme longueur qu’une colonne du tableau contenant le chiffre 1 pour la moitié de lignes et le chiffre 2 l’autre moitié (indice function ‘rep’)</strong>  <br />
5.<strong>l’ajoutez au tableau comme une colonne (indice function ‘cbind’)</strong> <br />
6.<strong>Supprimez la colonne que vous venez d’ajouter</strong></p>

<p>Pour répondre aux questions utilisez <code class="language-plaintext highlighter-rouge">help("fonction")</code> ou <code class="language-plaintext highlighter-rouge">?fonction</code>, Google etc.</p>

<!-- **Réponses**   -->
<!-- ```{r} -->
<!-- #1.	 -->
<!-- mytable[,1] -->
<!-- #2.	 -->
<!-- mytable[1,] -->
<!-- #3.	 -->
<!-- names(mytable) -->
<!-- #4.	 -->
<!-- Group=c(rep('1',56),rep('2',56)) -->
<!-- length(Group) -->
<!-- #5.  -->
<!-- mytable=cbind(mytable, Group) -->
<!-- summary(mytable) -->
<!-- #6.  -->
<!-- mytable=mytable[,-14] -->
<!-- ``` -->

<!-- *** -->

<div><span class="image fit"><img src="/images/art.png" alt="" /></span></div>

<h2>Visualisation des données R standard</h2>

<p><em>Pour RStudio</em><br />
Commencer par la commande</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">demo</span><span class="p">(</span><span class="n">graphics</span><span class="p">)</span></code></pre></figure>

<p>et observez l’onglet <strong>Plots</strong>
Dans la console s’affichent les commandes utilisées pour obtenir les graphs.</p>

<p><em>Sans R studio</em></p>
<ol>
  <li>Ouvrir R session dans le terminal (<code class="language-plaintext highlighter-rouge">R</code>)</li>
  <li>Tapez directement</li>
</ol>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">demo</span><span class="p">(</span><span class="n">graphics</span><span class="p">)</span></code></pre></figure>

<ol>
  <li>Tapez la touche <code class="language-plaintext highlighter-rouge">Entrée</code></li>
  <li>Une fênetre blanche va s’ouvrir, revenez dans le terminal et tapez la touche <code class="language-plaintext highlighter-rouge">Entrée</code>
***</li>
</ol>

<p>Mais commençant par nos donnés:</p>

<p>Le jeu de donnés contient les variables climatiques et une variable de pollution à l’ozone mesurées durant l’été 2001 à Rennes. Les variables considérées ici seront:</p>

<p><strong>max03</strong> - maximum de l’ozone journalier<br />
<strong>T12</strong> - température à midi<br />
<strong>vent</strong> - direction du vent<br />
<strong>pluie</strong><br />
<strong>Vx12</strong> - projection du vecteur vitesse du vent sur l’axe Est-Ouest</p>

<p>Regardez encore une fois</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">summary</span><span class="p">(</span><span class="n">mytable</span><span class="p">)</span><span class="w"> </span></code></pre></figure>

<p><strong>Lesquelles variables sont quantitatives? Qualitatives?</strong></p>

<p>Sélectionnez seulement les colonnes mentionnez et enregistrez dans une variable <code class="language-plaintext highlighter-rouge">ozon</code></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ozone</span><span class="o">=</span><span class="n">mytable</span><span class="p">[,</span><span class="nf">c</span><span class="p">(</span><span class="s1">'T12'</span><span class="p">,</span><span class="s1">'maxO3'</span><span class="p">,</span><span class="s1">'vent'</span><span class="p">,</span><span class="s1">'pluie'</span><span class="p">,</span><span class="s1">'Vx12'</span><span class="p">)]</span><span class="w">
</span><span class="n">summary</span><span class="p">(</span><span class="n">ozone</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##       T12            maxO3           vent      pluie         Vx12       
##  Min.   :14.00   Min.   : 42.00   Est  :10   Pluie:43   Min.   :-7.878  
##  1st Qu.:18.60   1st Qu.: 70.75   Nord :31   Sec  :69   1st Qu.:-3.565  
##  Median :20.55   Median : 81.50   Ouest:50              Median :-1.879  
##  Mean   :21.53   Mean   : 90.30   Sud  :21              Mean   :-1.611  
##  3rd Qu.:23.55   3rd Qu.:106.00                         3rd Qu.: 0.000  
##  Max.   :33.50   Max.   :166.00                         Max.   : 6.578</code></pre></figure>

<p>Afin de représenter deux colonnes comme un nuage de points. Observez le taux d’O3 maximale en fonction de la température à midi</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">#plot(x,y)</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">ozone</span><span class="p">[,</span><span class="s1">'T12'</span><span class="p">],</span><span class="n">ozone</span><span class="p">[,</span><span class="s1">'maxO3'</span><span class="p">])</span></code></pre></figure>

<p><img src="/images/unnamed-chunk-17-1.png" width="80%" /></p>

<p>ou bien</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">plot</span><span class="p">(</span><span class="n">maxO3</span><span class="o">~</span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">ozone</span><span class="p">)</span></code></pre></figure>

<p>Visualisez le taux maximal d’O3 (maxO3) en fonction de la variable  vent poursuivant la même logique</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">plot</span><span class="p">(</span><span class="n">maxO3</span><span class="o">~</span><span class="n">vent</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">ozone</span><span class="p">,</span><span class="n">xlab</span><span class="o">=</span><span class="s1">'Secteur du vent'</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="o">=</span><span class="s2">"pic d'ozone"</span><span class="p">)</span></code></pre></figure>

<p>ici equivalent à</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">boxplot</span><span class="p">(</span><span class="n">maxO3</span><span class="o">~</span><span class="n">vent</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">ozone</span><span class="p">,</span><span class="n">xlab</span><span class="o">=</span><span class="s1">'Secteur du vent'</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="o">=</span><span class="s2">"pic d'ozone"</span><span class="p">)</span></code></pre></figure>

<p><strong>Annotez les parties de la boite à moustaches (boxplot).</strong></p>

<p>Vous pouvez aussi personnaliser le graph.<br />
Ajoutez les couleurs:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"yellow"</span><span class="p">)</span><span class="w">
</span><span class="n">boxplot</span><span class="p">(</span><span class="n">maxO3</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">vent</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">xlab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Secteur du vent"</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"pic d'ozone"</span><span class="p">,</span><span class="w"> 
    </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"yellow"</span><span class="p">))</span></code></pre></figure>

<p><img src="/images/unnamed-chunk-21-1.png" width="80%" /></p>

<hr />

<p>Si vous avez de difficultés à comprendre ce qui répresentent ‘boxplot’ faites une exercice:</p>

<p>Si l’on s’intéresse qu’à la catégorie l’Est</p>

<p>Selectionnez une partie du tableau qui correspond au vent de l’Est</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ozoneE</span><span class="o">=</span><span class="n">ozone</span><span class="p">[</span><span class="n">ozone</span><span class="o">$</span><span class="n">vent</span><span class="o">==</span><span class="s1">'Est'</span><span class="p">,]</span></code></pre></figure>

<p>Faites une boite à moustache</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">boxplot</span><span class="p">(</span><span class="n">ozoneE</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span><span class="n">xlab</span><span class="o">=</span><span class="s1">'Secteur du vent'</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="o">=</span><span class="s2">"pic d'ozone"</span><span class="p">)</span><span class="w">  </span></code></pre></figure>

<p><img src="/images/unnamed-chunk-23-1.png" width="80%" /></p>

<p>observez les valeurs dans l’ordre</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sort</span><span class="p">(</span><span class="n">ozoneE</span><span class="o">$</span><span class="n">maxO3</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##  [1]  45  92  96  98 106 112 114 121 126 146</code></pre></figure>

<p>Calculez la moyenne</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">mean</span><span class="p">(</span><span class="n">ozoneE</span><span class="o">$</span><span class="n">maxO3</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 105.6</code></pre></figure>

<p>Calculez les quantiles/ a quoi correspond-ils?</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">quantile</span><span class="p">(</span><span class="n">ozoneE</span><span class="o">$</span><span class="n">maxO3</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##     0%    25%    50%    75%   100% 
##  45.00  96.50 109.00 119.25 146.00</code></pre></figure>

<p>Essayez maintenant d’observer ces éléments sur le graph</p>

<hr />

<p>Pour visualiser deux variables qualitatives essayez:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">plot</span><span class="p">(</span><span class="n">pluie</span><span class="o">~</span><span class="n">vent</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">ozone</span><span class="p">)</span></code></pre></figure>

<p><img src="/images/unnamed-chunk-27-1.png" width="80%" /></p>

<p><strong>Pareil, faites un graphe de direction du vent en fonction de température</strong></p>

<!-- ```{r,fig.keep='none', results='hide' } -->
<!-- plot(vent~T12, data=ozone) -->
<!-- ``` -->

<h4>Distribution</h4>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">hist</span><span class="p">(</span><span class="n">ozone</span><span class="o">$</span><span class="n">maxO3</span><span class="p">,</span><span class="n">xlab</span><span class="o">=</span><span class="s1">'Ozone'</span><span class="p">,</span><span class="n">main</span><span class="o">=</span><span class="s1">'Histogram'</span><span class="p">)</span></code></pre></figure>

<p><strong>Décrivez le graph, en quels unités est l’axe y?</strong></p>

<p><b>Utilisez les informations trouvé sur <a href="http://www.statmethods.net/advgraphs/parameters.html" target="_blank">le site http://www.statmethods.net/advgraphs/parameters.html</a> pour transformer en jouant avec les paramètres.</b></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">plot</span><span class="p">(</span><span class="n">maxO3</span><span class="o">~</span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">ozone</span><span class="p">)</span></code></pre></figure>

<p><img src="/images/unnamed-chunk-29-1.png" width="80%" /></p>

<p><strong>en</strong></p>

<!-- (réponse)   -->
<p><img src="/images/unnamed-chunk-30-1.png" width="80%" /></p>

<p><strong>Notez le code R dans le compte-rendu des TD</strong></p>

<hr />

<h2>GGPLOT2 - ajoutons une couche</h2>

<p>Pour installer effectuez la commande:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">install.packages</span><span class="p">(</span><span class="s2">"ggplot2"</span><span class="p">)</span><span class="w"> </span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Installing package into '/Users/urszulaczerwinska/Library/R/3.3/library'
## (as 'lib' is unspecified)</code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## 
## The downloaded binary packages are in
## 	/var/folders/mz/7mx96rvs3xdchysdyy5w37b80000gq/T//RtmpGPMlST/downloaded_packages</code></pre></figure>

<p>et ensuite</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span></code></pre></figure>

<p>Dans le concept de ggplot2 le graphs sont compose de différents couches superposées.</p>

<p>En utilisant le même jeu de données tapez</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxO3</span><span class="p">))</span></code></pre></figure>

<p>R vous informe que le graphe n’a pas de couches<br />
sauvegardez le plot dans un objet <code class="language-plaintext highlighter-rouge">p</code> et ajoutez une couche</p>

<h3></h3>
<p>Scatterplot&lt;/h3&gt;</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxO3</span><span class="p">))</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">()</span><span class="w">
</span><span class="n">p</span></code></pre></figure>

<p><img src="/images/unnamed-chunk-34-1.png" width="80%" /></p>

<p>Faites attention au operateur + qui va servir toujours a ajouter les couches. Chaque nouvelle couche est une fonction qui prend en argument ses caractéristiques</p>

<p>Essayez</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxO3</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">(</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">)</span></code></pre></figure>

<p>Une couche statistique</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">stat_smooth</span><span class="p">()</span></code></pre></figure>

<p>La ligne représente un ‘fit’ et la bande grise, elle répresente l’intervalle de confiance établie en utilisant la méthode <em><code class="language-plaintext highlighter-rouge">loess</code></em></p>

<p>Vous pouvez aussi visualiser la ligne sans points</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxO3</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">stat_smooth</span><span class="p">()</span></code></pre></figure>

<p>Pour bien annoter le graph:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxO3</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">(</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
    </span><span class="n">ylab</span><span class="p">(</span><span class="s2">"taux maximal d'O3"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xlab</span><span class="p">(</span><span class="s2">"temperature a midi"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">theme_bw</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"taux d'ozone en fonction de la temperature a Rennes"</span><span class="p">)</span></code></pre></figure>

<p><strong>Que fait-il theme_bw()?</strong></p>

<p>C’est facile aussi de colorier les points en fonction du type de vent</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxO3</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vent</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
    </span><span class="n">ylab</span><span class="p">(</span><span class="s2">"taux maximal d'O3"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xlab</span><span class="p">(</span><span class="s2">"temperature a midi"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">theme_bw</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"taux d'ozone en fonction de la temperature a Rennes"</span><span class="p">)</span></code></pre></figure>

<p>Observez que la légende apparait toute seule!</p>

<p>Vous pouvez joindre les points avec les lignes par groupe aussi</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxO3</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vent</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
    </span><span class="n">ylab</span><span class="p">(</span><span class="s2">"taux maximal d'O3"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xlab</span><span class="p">(</span><span class="s2">"temperature a midi"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">theme_bw</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"taux d'ozone en fonction de la temperature a Rennes"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
    </span><span class="n">geom_line</span><span class="p">()</span></code></pre></figure>

<p>Il est aussi possible de mapper les couleurs de valeurs continues</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T12</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxO3</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxO3</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
    </span><span class="n">ylab</span><span class="p">(</span><span class="s2">"taux maximal d'O3"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xlab</span><span class="p">(</span><span class="s2">"temperature a midi"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">theme_bw</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"taux d'ozone en fonction de la temperature a Rennes"</span><span class="p">)</span></code></pre></figure>

<h3>BARPLOT</h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="n">vent</span><span class="p">))</span><span class="o">+</span><span class="n">geom_bar</span><span class="p">()</span></code></pre></figure>

<p>avec les couleurs</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="n">vent</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">vent</span><span class="p">))</span><span class="o">+</span><span class="n">geom_bar</span><span class="p">()</span></code></pre></figure>

<p>Pour changer la palette de coloration ajoutez</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="o">+</span><span class="w">
</span><span class="n">scale_fill_brewer</span><span class="p">(</span><span class="n">palette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Set1"</span><span class="p">)</span></code></pre></figure>

<p>Ou décidez quels couleurs vous preferez pqr vous memes</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">p</span><span class="o">+</span><span class="w">
</span><span class="n">scale_fill_manual</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"bisque"</span><span class="p">,</span><span class="w"> </span><span class="s2">"chartreuse4"</span><span class="p">,</span><span class="w">
                             </span><span class="s2">"hotpink"</span><span class="p">,</span><span class="s2">"yellow"</span><span class="p">))</span></code></pre></figure>

<h3>error bars</h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">vent</span><span class="p">,</span><span class="w"> </span><span class="n">maxO3</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="n">vent</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">stat_summary</span><span class="p">(</span><span class="n">fun.y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">stat_summary</span><span class="p">(</span><span class="n">fun.data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean_sdl</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"errorbar"</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Warning: Computation failed in `stat_summary()`:
## Hmisc package required for this function</code></pre></figure>

<p><strong>mean_sdl</strong>- retourne la moyenne du groupe, et les error bars qui correspond a l’ecart-type</p>

<p>vous pouvez essayer aussi</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mean_cl_boot()
mean_cl_normal()
median_hilow()
</code></pre></div></div>

<h3>Documentation:</h3>
<p>●	<strong>mean_cl_boot()</strong><br />
	This will return the sample mean, and 95% bootstrap confidence intervals.<br />
●	<strong>mean_cl_normal()</strong><br />
	This will return the sample mean, and the 95% percent Gaussian confidence interval based on the t-distribution<br />
●	<strong>mean_sdl()</strong><br />
	This will return the sample mean and values at 1 sd and -1 sd away. You can make it return points any arbitrary number of sds away by passing that value to mult. For example, mult = 2 will return 2 and -2 sds.<br />
●	<strong>median_hilow()</strong><br />
	This will return the sample median, and confidence intervals running from the 0.025 quantile to the 0.975 quantile, which covers 95% of the range of the data. You can change what range of the data you want the confidence interval to cover by passing it to conf.int. For example conf.int = 0.5 will return confidence intervals ranging from the 0.25 quantile to the 0.75 quantile.</p>

<h3>Densité</h3>
<p>Executez</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">maxO3</span><span class="p">,</span><span class="w"> </span><span class="n">T12</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">stat_density2d</span><span class="p">()</span><span class="o">+</span><span class="n">geom_point</span><span class="p">()</span></code></pre></figure>

<p>Vous pouvez jouer avec la coloration</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">maxO3</span><span class="p">,</span><span class="w"> </span><span class="n">T12</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">stat_density2d</span><span class="p">(</span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="n">contour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">,</span><span class="w">
             	</span><span class="n">aes</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">..density..</span><span class="p">),</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.3</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">maxO3</span><span class="p">,</span><span class="w"> </span><span class="n">T12</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">stat_density2d</span><span class="p">(</span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"tile"</span><span class="p">,</span><span class="w"> </span><span class="n">contour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">..density..</span><span class="p">))</span></code></pre></figure>

<p>ou bien</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">ozone</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">maxO3</span><span class="p">,</span><span class="w"> </span><span class="n">T12</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">stat_density2d</span><span class="p">(</span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"tile"</span><span class="p">,</span><span class="w"> </span><span class="n">contour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">,</span><span class="w"> 
    </span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">..density..</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">scale_fill_gradientn</span><span class="p">(</span><span class="n">colours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rainbow</span><span class="p">(</span><span class="m">6</span><span class="p">))</span></code></pre></figure>

<p><img src="/images/unnamed-chunk-55-1.png" width="60%" /></p>

<h2>Ressources:</h2>

<p><a href="http://bbs.ceb-institute.org/wp-content/uploads/2011/09/handout_ggplot2.pdf">handout_ggplot2.pdf</a><br />
<a href="http://www.ling.upenn.edu/~joseff/avml2012/#Section_1">http://www.ling.upenn.edu/~joseff/avml2012/#Section_1</a><br />
<a href="http://www.cookbook-r.com/Graphs/Bar_and_line_graphs_%28ggplot2%29/">http://www.cookbook-r.com/Graphs/Bar_and_line_graphs_%28ggplot2%29/</a></p>

<p><a target="_blank" href="http://urszulaczerwinska.github.io/docs/TP_R_Etu.pdf" class="button ula">Télécharger le PDF</a></p>

<p><b>Les réponses diponibles à la demande</b></p>

<p>Le travail effectué pour <a href="http://cri-paris.org/bachelor/">Licence Frontières du Vivant</a> at Center for Interdisciplinary Reserch.</p>
<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-584ec4ce89deed84"></script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<div class="addthis_inline_share_toolbox"></div>


      <div class="backnext btnbottom">
                <div class="back">
        <div class="bpointer"><a href="/works/DeDaL"
         class="button small" title="Back">&lt; Back</a></div>
         <!-- class="icon fa-backward" title="Back"></a></div> -->
        <div class="btitle"><a href="/works/DeDaL">DeDaL</a></div>
        </div>
        <div class="next">
        <div class="npointer"><a href="/works/CBA_outreach"
         class="button small" title="Next">Next &gt;</a></div>
         <!-- class="icon fa-forward" title="Next"></a></div> -->
        <div class="ntitle"><a href="/works/CBA_outreach">Outreach</a></div>
        </div>

      </div>
      <script>
      document.body.onkeyup = function(e){
        if (e.keyCode == '37') { window.location = '/works/DeDaL'; }
        if (e.keyCode == '39') { window.location = '/works/CBA_outreach'; }
      };
      </script>

  
    </div>
  </section>


      </article>

      <!-- Footer -->
<footer id="footer">
  <ul class="icons">
    <li><a target="_blank" href="https://twitter.com/ulalaparis" class="icon fa-twitter"
           ><span class="label">twitter</span></a></li>
    <li><a target="_blank" href="https://github.com/urszulaczerwinska" class="icon fa-github"
           ><span class="label">github</span></a></li>
    <li><a target="_blank" href="https://linkedin.com/in/urszulaczerwinska" class="icon fa-linkedin-square"
           ><span class="label">linkedin-square</span></a></li>
    <li><a target="_blank" href="mailto:ulcia.liberte@gmail.com" class="icon fa-envelope"
           ><span class="label">E-mail</span></a></li>
  </ul>
  <ul class="copyright">
    <li>&copy; 2016,
    2024
      Urszula Czerwinska</li>
    <li><a href="/credits/">Credits</a></li>
  </ul>
</footer>


      <!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.scrolly.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]><script src="/js/ie/respond.min.js"></script><![endif]-->
<script src="/js/main.js"></script>

    </div>

  </body>



</html>